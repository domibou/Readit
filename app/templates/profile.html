{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block header %}
{% endblock %}

{% block body %}
	<h1>{{ profile[0]['username'] }}</h1>

	<h2>About {{ profile[0]['username'] }}</h2>
{#	<p>{{ profile[0]['description'] }}</p>#}
{#    <input type="text" class="field" name="about" value="{{ profile[0]['description'] }}">#}
{#    <p><textarea class="field" name="description" rows="15" cols="80">{{ profile[0]['description'] }}</textarea></p>#}
{#    <a href="{{ url_for('updateprofile',description =getDec(), user_id=profile[0]['user_id']) }}" ><button class="largeButton" >Save</button> </a>#}
{#    <script>#}
{#        function getDec()#}
{#            {#}
{#                return document.querySelector('#description').value;#}
{#            }#}
{#    </script>#}
        <form id="updateProfileForm" method="post" action="{{ url_for('updateprofile', user_id=profile[0]['user_id']) }}">
            <p><textarea type="text" class="field" name="text" rows="15" cols="80">{{ profile[0]['description'] }}</textarea></p>
            <p><input type="submit" value="save" class="saveForm"></p>
        </form>



	<p>Rating: {{ profile[0]['rating'] }}</p>

	<p>Member since: {{ profile[0]['creation_date'] }}</p>

	<h2>Subscribed to:</h2>
	{% for c in communities %}
		<a href="{{ url_for('community', community_id=c['community_id']) }}">
            <button class="communityButton" style="padding: 6px; margin: 0px 2px 0px; border-radius: 20px; font-size: 16px; cursor: pointer">
                {{ c['name'] }}
            </button>
        </a>
	{% endfor %}

    <p>Posts made : {{ postcount }}</p>
	{% if posts %}
        <div class="container">
            {% for post in posts %}
			<div class="post">
				<a href="{{ url_for('post', post_id=post['post_id']) }}" class="title">{{ post['title'] }}</a>
				<a href="{{ url_for('community', community_id=post['community_id']) }}" class="community">{{ post['community'] }}</a>
			  </div>
            {% endfor %}
        </div>
        {% endif %}

{% endblock %}